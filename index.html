<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Olympic Momentum Challenge</title>

<style>
/* ===============================
   GLOBAL STYLE
================================*/
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.container{
  width:90%;
  max-width:720px;
  background:rgba(255,255,255,.08);
  backdrop-filter:blur(14px);
  border-radius:18px;
  padding:28px;
  text-align:center;
  box-shadow:0 20px 50px rgba(0,0,0,.35);
}

.hidden{display:none;}

button{
  padding:12px 18px;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#ff7a18,#ffb347);
  color:white;
  font-size:16px;
  cursor:pointer;
  margin:10px;
}

.progress{
  height:14px;
  background:rgba(255,255,255,.2);
  border-radius:10px;
  overflow:hidden;
  margin:15px 0;
}

.fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#00f260,#0575e6);
  transition:.1s;
}

.feedback{
  font-size:22px;
  margin-top:10px;
  height:30px;
}
</style>
</head>

<body>
<div class="container">

<!-- START SCREEN -->
<div id="start">
<h1>üèÖ Olympic Momentum Challenge</h1>
<p>
Compete in three Olympic events.<br><br>
1Ô∏è‚É£ Mash SPACE to sprint<br>
2Ô∏è‚É£ Time your javelin throw<br>
3Ô∏è‚É£ React instantly to win<br><br>

‚≠ê Momentum carries between events and boosts performance!
</p>
<button onclick="startGame()">Start Olympics</button>
</div>

<!-- GAME UI -->
<div id="game" class="hidden">
<h2 id="eventTitle"></h2>

<div>Score: <span id="score">0</span></div>
<div>Momentum: <span id="momentum">0</span></div>

<div class="progress">
<div id="bar" class="fill"></div>
</div>

<div class="feedback" id="feedback"></div>
</div>

<!-- END SCREEN -->
<div id="end" class="hidden">
<h1>üèÜ Games Complete!</h1>
<h2>Total Score: <span id="finalScore"></span></h2>
<h3 id="medal"></h3>
<button onclick="location.reload()">Play Again</button>
</div>

</div>

<script>
/* ===================================
   GAME STATE
=================================== */
let score=0;
let momentum=0;
let eventIndex=0;
let events=["Sprint Dash","Javelin Throw","Reaction Challenge"];

const scoreEl=document.getElementById("score");
const momentumEl=document.getElementById("momentum");
const titleEl=document.getElementById("eventTitle");
const bar=document.getElementById("bar");
const feedback=document.getElementById("feedback");

/* ===================================
   SIMPLE SOUND EFFECTS
=================================== */
function beep(freq){
  const ctx=new (window.AudioContext||window.webkitAudioContext)();
  const osc=ctx.createOscillator();
  const gain=ctx.createGain();
  osc.frequency.value=freq;
  osc.connect(gain);
  gain.connect(ctx.destination);
  osc.start();
  gain.gain.exponentialRampToValueAtTime(0.0001,ctx.currentTime+.3);
  osc.stop(ctx.currentTime+.3);
}

/* ===================================
   START GAME
=================================== */
function startGame(){
  document.getElementById("start").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  nextEvent();
}

/* ===================================
   EVENT FLOW
=================================== */
function nextEvent(){
  if(eventIndex>=events.length){
    endGame();
    return;
  }

  titleEl.textContent=events[eventIndex];
  feedback.textContent="";

  if(eventIndex===0) sprintEvent();
  if(eventIndex===1) javelinEvent();
  if(eventIndex===2) reactionEvent();
}

/* ===================================
   MOMENTUM SYSTEM
=================================== */
function addMomentum(value){
  momentum+=value;
  if(momentum<0) momentum=0;
  momentumEl.textContent=momentum;
}

/* ===================================
   EVENT 1 ‚Äî SPRINT DASH
=================================== */
function sprintEvent(){
  let presses=0;
  let time=5 + momentum*0.05; // momentum bonus time

  feedback.textContent="Press SPACE repeatedly!";

  function press(e){
    if(e.code==="Space"){
      presses++;
      bar.style.width=(presses*2)+"%";
    }
  }

  document.addEventListener("keydown",press);

  setTimeout(()=>{
    document.removeEventListener("keydown",press);

    let points=presses*5;
    score+=points;
    addMomentum(Math.floor(presses/10));
    beep(400);

    feedback.textContent="Distance Run: "+presses;
    updateUI();
    eventIndex++;
    setTimeout(nextEvent,2000);
  },time*1000);
}

/* ===================================
   EVENT 2 ‚Äî JAVELIN THROW
=================================== */
function javelinEvent(){

  let power=0;
  let dir=1;

  feedback.textContent="Click when bar is centered!";

  const interval=setInterval(()=>{
    power+=dir*(3+momentum*0.3);
    if(power>=100||power<=0) dir*=-1;
    bar.style.width=power+"%";
  },30);

  function throwJavelin(){
    clearInterval(interval);
    document.removeEventListener("click",throwJavelin);

    let accuracy=Math.abs(50-power);
    let points=Math.max(0,100-accuracy*2);

    score+=Math.floor(points);
    addMomentum(points>70?3:-1);
    beep(600);

    feedback.textContent="Throw Score: "+Math.floor(points);
    updateUI();
    eventIndex++;
    setTimeout(nextEvent,2000);
  }

  document.addEventListener("click",throwJavelin);
}

/* ===================================
   EVENT 3 ‚Äî REACTION CHALLENGE
=================================== */
function reactionEvent(){

  feedback.textContent="Wait for GREEN...";

  let startTime;

  setTimeout(()=>{
    feedback.textContent="CLICK NOW!";
    document.body.style.background="#145a32";
    startTime=Date.now();
    beep(800);

    function react(){
      let reaction=Date.now()-startTime;
      document.body.style.background="";
      document.removeEventListener("click",react);

      let bonus=Math.max(0,500-reaction);
      bonus+=momentum*10;

      score+=bonus;
      addMomentum(bonus>250?2:-2);

      feedback.textContent="Reaction: "+reaction+" ms";
      updateUI();
      eventIndex++;
      setTimeout(nextEvent,2000);
    }

    document.addEventListener("click",react);

  },2000+Math.random()*2000);
}

/* ===================================
   UI UPDATE
=================================== */
function updateUI(){
  scoreEl.textContent=score;
}

/* ===================================
   END GAME
=================================== */
function endGame(){
  document.getElementById("game").classList.add("hidden");
  document.getElementById("end").classList.remove("hidden");

  document.getElementById("finalScore").textContent=score;

  let medal="ü•â Bronze";
  if(score>800) medal="ü•à Silver";
  if(score>1200) medal="ü•á Gold";

  document.getElementById("medal").textContent="Medal Earned: "+medal;
}
</script>
</body>
</html>
